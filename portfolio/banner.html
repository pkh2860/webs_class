<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="assets/css/reset.css" />
    <link rel="stylesheet" href="assets/css/common.css" />
    <link rel="stylesheet" href="assets/css/fonts.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Jura:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
      }
      body {
        background: #ebebeb;
      }
      #nav {
      }
      #nav ul {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      #nav ul li {
        padding: 20px;
      }
      #nav ul li a {
        font-family: "Jura";
        font-size: 23px;
      }

      /* banner */
      #banner {
        /* height: 800px; */
      }

      .banner__text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        /* display: flex;
        justify-content: center;
        align-items: center; 
         top: 25vw;
        left: 50vw; */
      }
      #banner h2 {

      }
      #banner em {
        font-family: "Partizeno";
        font-size: 20vw;
        color: #3c6b56;
        line-height: 1.3;
        font-weight: 100;
      }
      #banner strong {
        font-family: "Saint Monica";
        font-size: 2vw;
        line-height: 1.3;
        color: #b99e56;
        font-weight: 100;
        position: absolute;
        bottom: 6vw;
      }
      .banner__text p {
        position: absolute;
        font-family: "Gmarket Sans";
        line-height: 1.5;
        font-size: 1vw;
        font-weight: 300;
        text-transform: uppercase;
        color: #3c6b56;
        bottom: -0.5vh;
      }

      @media (max-width: 1200px) {
        .banner__text p {
          text-align: center;
          left: 50%;
          top: 100%;
          white-space: nowrap;
          transform: translate(-50%, -50%);
        }
      }

      #nav {
        opacity: 0;
        top: -100%;
      }
      .banner__text em {
        opacity: 0 ;
        transform: translateX(100px) translateY(100px)
      }
      .banner__text strong {
        opacity: 0 ;
        transform: translateX(100px) translateY(100px)
      }
      .banner__text p {
        opacity: 0 ;
        transform: translateX(100px) translateY(100px)
      }

      #test1 {
        background: #000;
        height: 100px;
      }
    </style>
  </head>
  <body>
    <div>
      <header id="header">
        <nav id="nav">
          <ul>
            <li><a href="#">ABOUT</a></li>
            <li><a href="#">WORK</a></li>
            <li><a href="#">CODE</a></li>
            <li><a href="#">SCRIPT</a></li>
            <li><a href="#">CONTACT</a></li>
          </ul>
        </nav>
      </header>

      <main>
        <section id="banner">
          <canvas id="canvas_bg"></canvas>
          <div class="banner__text">
            <h2><em class="port">Portfolio</em> <strong>2022</strong></h2>
            <p>
              welcome to my portfolio <br />
              We will become a developing frontend
            </p>
          </div>
        </section>

        <!-- <section id="test1"></section> -->
      </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
    <script>
      const Porttext = document.querySelector(".banner__text .port");

    
      setTimeout (() => {
            gsap.to(".banner__text em", {
                duration: 0.5,
                x:0,
                y:0,
                opacity:1,
                delay: 1.0,
                ease: "circ.out"
            })
            gsap.to(".banner__text strong", {
                duration: 0.5,
                x:0,
                y:0,
                opacity:1,
                delay: 1.3,
                ease: "circ.out"
            })
            gsap.to(".banner__text p", {
                duration: 0.5,
                x:0,
                y:0,
                opacity:1,
                delay: 1.5,
                ease: "circ.out"
            })
            gsap.to("#nav", {
                duration: 0.5,
                x:0,
                y:0,
                opacity:1,
                delay: 1.8,
            });
        }, 10)


        function munja(){
          spanText = "";
          for(var i=0; i<Porttext.length; i++){
            spanText += "<span>"+  +"</span>"
          }

        }



      var canvas = document.getElementById("canvas_bg");
      var ctx = canvas.getContext("2d");
      var cw = (canvas.width = window.innerWidth),
        cx = cw / 2;
      var ch = (canvas.height = window.innerHeight),
        cy = ch / 2;

      ctx.fillStyle = "#000";
      var circlesRy = [];
      var circlesNum = 5;
      var requestId = null;
      function Circle() {
        this.r = randomIntFromInterval(300, 300);
        this.x = randomIntFromInterval(this.r, cw - this.r);
        this.y = randomIntFromInterval(this.r, ch - this.r);

        this.vx = randomIntFromInterval(25, 100) / 100;
        this.vy = randomIntFromInterval(25, 100) / 100;

        this.update = function () {
          this.edges();
          this.x += this.vx;
          this.y += this.vy;
        };

        this.edges = function () {
          if (this.x < this.r || this.x > cw - this.r) {
            this.vx *= -1;
          }
          if (this.y < this.r || this.y > ch - this.r) {
            this.vy *= -1;
          }
        };

        this.draw = function () {
          ctx.strokeStyle = "#ccc";
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI);
          ctx.stroke();
        };
      }

      for (var i = 0; i < circlesNum; i++) {
        var circle = new Circle();
        circlesRy.push(circle);
      }

      function Draw() {
        requestId = window.requestAnimationFrame(Draw);
        ctx.clearRect(0, 0, cw, ch);
        for (var i = 0; i < circlesRy.length; i++) {
          var c = circlesRy[i];
          c.update();
          c.draw();
        }
        for (var i = 0; i < circlesRy.length; i++) {
          var c = circlesRy[i];
          for (var j = i + 1; j < circlesRy.length; j++) {
            var c1 = circlesRy[j];
            var d = dist(c, c1);
            if (d < c.r + c1.r && d > Math.abs(c.r - c1.r)) {
              getIntersection(c, c1, d);
            }
          }
        }
      }

      function Init() {
        circlesRy.length = 0;
        for (var i = 0; i < circlesNum; i++) {
          var circle = new Circle();
          circlesRy.push(circle);
        }

        if (requestId) {
          window.cancelAnimationFrame(requestId);
          requestId = null;
        }

        (cw = canvas.width = window.innerWidth), (cx = cw / 2);
        (ch = canvas.height = window.innerHeight), (cy = ch / 2);

        Draw();
      }

      setTimeout(function () {
        Init();

        addEventListener("resize", Init, false);
      }, 15);

      function getIntersection(p1, p2, d) {
        var p3 = {}; // middle point
        var p4 = {}; // intersection 1
        var p5 = {}; // intersection 2

        var a =
          (Math.pow(p1.r, 2) - Math.pow(p2.r, 2) + Math.pow(d, 2)) / (2 * d);
        var h = Math.sqrt(Math.pow(p1.r, 2) - Math.pow(a, 2));

        p3.x = p1.x + (a * (p2.x - p1.x)) / d;
        p3.y = p1.y + (a * (p2.y - p1.y)) / d;

        p4.x = p3.x + (h * (p2.y - p1.y)) / d;
        p4.y = p3.y - (h * (p2.x - p1.x)) / d;

        p5.x = p3.x - (h * (p2.y - p1.y)) / d;
        p5.y = p3.y + (h * (p2.x - p1.x)) / d;

        markPoint(p4);
        markPoint(p5);
      }

      function dist(p1, p2) {
        var dx = p2.x - p1.x;
        var dy = p2.y - p1.y;
        return Math.sqrt(dx * dx + dy * dy);
      }

      function randomIntFromInterval(mn, mx) {
        return ~~(Math.random() * (mx - mn + 1) + mn);
      }

      function markPoint(p) {
        ctx.fillStyle = "#000";
        ctx.beginPath();
        ctx.arc(p.x, p.y, 2, 0, 2 * Math.PI);
        ctx.fill();
      }
    </script>
  </body>
</html>
